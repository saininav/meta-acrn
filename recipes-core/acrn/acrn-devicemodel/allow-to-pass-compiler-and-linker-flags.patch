From 2a4aff360f834730b6a19de235227d5d9bb3c396 Mon Sep 17 00:00:00 2001
From: Naveen Saini <naveen.kumar.saini@intel.com>
Date: Fri, 25 Mar 2022 19:41:07 +0800
Subject: [PATCH] Makefile: allow to pass compiler and linker flags

Upstream-Status: Inappropriate [oe-specific]

Signed-off-by: Naveen Saini <naveen.kumar.saini@intel.com>
---
 devicemodel/Makefile | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/devicemodel/Makefile b/devicemodel/Makefile
index 4972cf7f2..717869b70 100644
--- a/devicemodel/Makefile
+++ b/devicemodel/Makefile
@@ -43,6 +43,7 @@ CFLAGS += -I$(SYSROOT)/usr/include/pixman-1
 CFLAGS += -I$(SYSROOT)/usr/include/glib-2.0
 CFLAGS += -I$(SYSROOT)/usr/include/SDL2
 CFLAGS += -I$(SYSROOT)/usr/include/EGL
+CFLAGS += -I$(COPTS)
 
 ifneq (, $(DM_ASL_COMPILER))
 CFLAGS += -DASL_COMPILER=\"$(DM_ASL_COMPILER)\"
@@ -77,6 +78,7 @@ LDFLAGS += -Wl,-z,noexecstack
 LDFLAGS += -Wl,-z,relro,-z,now
 LDFLAGS += -pie
 LDFLAGS += -L$(TOOLS_OUT)/services
+LDFLAGS += -L$(COPTS)
 
 LIBS = -lrt
 LIBS += -lpthread
-- 
2.17.1

